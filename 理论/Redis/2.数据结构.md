# 数据结构

<img title="" src="https://raw.githubusercontent.com/TravisL24/pic-repo/main/picGo/2022/07/29/20220729215610.png" alt="a9c3e7dc4ac79363d8eb8eb2290a58e6.png" width="755" data-align="left">

```
Redis 是使用了一个「哈希表」保存所有键值对，可以用 O(1) 的时间复杂度来快速查找到键值对
```

![3c386666e4e7638a07b230ba14b400fe.png](https://raw.githubusercontent.com/TravisL24/pic-repo/main/picGo/2022/07/29/20220729221201.png)

## 1.SDS

```
不用c语言的char* 这个字符数组的原因?
  1.获取字符串长度的时间复杂度为 O（N）；
  2.字符串的结尾是以 “\0” 字符标识，字符串里面不能包含有 “\0” 字符，因此不能保存二进制数据；
  3.字符串操作函数不高效且不安全，比如有缓冲区溢出的风险，有可能会造成程序运行终止
```

<img title="" src="https://raw.githubusercontent.com/TravisL24/pic-repo/main/picGo/2022/07/29/20220729225851.png" alt="516738c4058cdf9109e40a7812ef4239.png" data-align="center" width="335">

```
len：字符串长度
alloc：分配到的字符数组的长度
flags；不同类型的SDS，dshdr5、sdshdr8、sdshdr16、sdshdr32、sdshdr64
buf[]：数据

len ==> 获取长度时间O(1),也可以存储二进制数据了
alloc+len ==> 空间不够自动扩容，会分配额外的[未使用空间]，有效减少内存分配次数
flags ==> 适配不同大小的字符串，有效节省内存空间
```

## 2.链表


